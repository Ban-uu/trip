<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
          "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="take.a.trip.hotel.dao.HotelDAO">

<!-- hotel_main -->
<select id="hotel_main" parameterType="hvo" resultType="hvo">
	
		SELECT *
		FROM HOTEL
		WHERE DELETEYN ='Y'
		
</select>

<!-- hotel 지역별 검색 -->
<select id="hotelSearch" parameterType="hvo" resultType="hvo">

		SELECT *
		FROM HOTEL
		WHERE 1=1 AND DELETEYN='Y'
		
		<if test="searchFilter == 'key_01'">
			<![CDATA[ AND REGIONID LIKE '%' || #{keyword, jdbcType=VARCHAR} || '%']]>
		</if>
		
		<if test="searchFilter == 'key_02'">
			<![CDATA[ AND HOTELNAME LIKE '%' || #{keyword, jdbcType=VARCHAR} || '%']]>
		</if>
		
</select>

</mapper>